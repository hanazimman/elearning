(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1284:function(e,t,s){"use strict";const{registerComponent:n}=s(4),i=s(2030),o=s(2031),{saveUserAnswer:r,editUserAnswer:u}=s(1561);n("numberInput",{component:i,actions:{saveUserAnswer:r,editUserAnswer:u},reducer:o,mapStateToProps:s(2032),trackingMap:s(2033)})},1374:function(e,t,s){"use strict";const n=s(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,s){"use strict";e.exports=function(e,t,s,n,i){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&i&&i(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,t,s){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:n}=e;return!0===n&&!0===s._isReady&&!0!==s[t]}},1381:function(e,t,s){var n=s(88),i=s(48);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==n(e)}},1389:function(e,t,s){"use strict";const n=s(0),i=s(1),o=s(7),r=s(215),u=e=>n.createElement("div",{className:o("ev-buttons",{"ev-switch-buttons":e.switchButtonOrder})},e.showSubmitButton&&n.createElement(r,{text:e.submitText,isDisabled:e.isSubmitDisabled,onClick:e.onSubmitClicked}),e.showEditButton&&n.createElement(r,{text:e.editText,isDisabled:e.isEditDisabled,onClick:e.onEditClicked}));u.propTypes={switchButtonOrder:i.bool,showSubmitButton:i.bool,submitText:i.string,isSubmitDisabled:i.bool,onSubmitClicked:i.func,showEditButton:i.bool,editText:i.string,isEditDisabled:i.bool,onEditClicked:i.func},u.defaultProps={switchButtonOrder:!1,showSubmitButton:!0,showEditButton:!0},e.exports=u},1394:function(e,t,s){var n=s(1381);e.exports=function(e){return n(e)&&e!=+e}},1434:function(e,t,s){"use strict";const n=s(1394),i=s(2),o=s(1),r=s(0),u=s(7),a=i({displayName:"Input",propTypes:{type:o.oneOf(["text","number"]),value:o.oneOfType([o.string,o.number]),onChange:o.func.isRequired,onFocus:o.func,onBlur:o.func,className:o.string,placeholder:o.string,min:o.number,max:o.number,ariaLabel:o.string,isDisabled:o.bool,shouldFocus:o.bool},getDefaultProps:()=>({type:"text"}),onChange(e){const{type:t,min:s,max:i,onChange:o}=this.props;let{value:r}=e.target;if("number"===t){if(r=parseInt(r,10),!n(r)&&(r<s||r>i))return;n(r)&&(r="")}o(r)},componentDidUpdate(e){const{shouldFocus:t}=this.props;t&&!e.shouldFocus&&this._input.focus()},render(){const{className:e,type:t,value:s,onFocus:n,onBlur:i,placeholder:o,min:a,max:p,ariaLabel:c,isDisabled:d}=this.props;return r.createElement("input",{ref:e=>this._input=e,className:u("ev-input ev-input-text",e),type:t,value:s,onChange:this.onChange,onFocus:n,onBlur:i,placeholder:o,min:a,max:p,disabled:d,"aria-label":c})}});e.exports=a},1561:function(e,t,s){"use strict";t.NUMBERINPUT_SAVE_USER_ANSWER="NUMBERINPUT_SAVE_USER_ANSWER",t.NUMBERINPUT_EDIT_USER_ANSWER="NUMBERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.NUMBERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.NUMBERINPUT_EDIT_USER_ANSWER,payload:e})},2030:function(e,t,s){"use strict";const n=s(306),i=s(2),o=s(1),r=s(0),u=s(29),a=s(1434),p=s(472),c=s(1374),d=s(1376),l=s(1375),{Component:m}=s(466),b=s(1389),_=i({displayName:"NumberInput",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,saveUserAnswer:o.func.isRequired,editUserAnswer:o.func.isRequired,updateVariable:o.func.isRequired,styles:o.object,setAriaLive:o.func.isRequired},getInitialState(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:n(e)?t:e,_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.setAriaLive({message:e.component.submittedLabelText,isAssertive:!1}),e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},onEditClicked(){this.setState({_previousUserAnswer:this.state._userAnswer}),this.props.editUserAnswer({componentId:this.props.component._id})},onVisibilityChange(...e){l(...e,this,this.props.setComponentAsViewed)},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return r.createElement(u,{className:"ev-label",html:t})},getIsSubmitDisabled(){const{_isEditing:e=!1,_isComplete:t,_allowEditing:s}=this.props.component;return!(!t||s&&e)||""===this.state._userAnswer},renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:n,_allowEditing:i}=this.props.component,{_isActionButtonOnRight:o}=p(this.props);return r.createElement(b,{switchButtonOrder:o,submitText:e,isSubmitDisabled:this.getIsSubmitDisabled(),onSubmitClicked:this.submitAnswer,showEditButton:i,isEditDisabled:s||!n,editText:t,onEditClicked:this.onEditClicked})},render(){const{props:e,state:t}=this;return r.createElement(m,{component:e.component,styles:e.styles,isVisibilitySensorActive:d(e),onVisibilityChange:this.onVisibilityChange},r.createElement("div",null,r.createElement("div",{className:c(e.component)},r.createElement(a,{type:"number",value:t._userAnswer,onChange:e=>this.setState({_userAnswer:e}),isDisabled:e.component._isComplete&&!e.component._isEditing,min:e.component._minValue,max:e.component._maxValue,shouldFocus:e.component._isEditing,ariaLabel:e.component.numberInputAriaLabel}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=_},2031:function(e,t,s){"use strict";const{NUMBERINPUT_SAVE_USER_ANSWER:n,NUMBERINPUT_EDIT_USER_ANSWER:i}=s(1561);e.exports=function(e,t){switch(t.type){case n:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case i:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},2032:function(e,t,s){"use strict";const n=s(77);e.exports=(e,t)=>({articleStyle:n(e,t,"article")._classes})},2033:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}}}]);