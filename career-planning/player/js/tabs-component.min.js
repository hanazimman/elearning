(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1298:function(e,t,i){"use strict";const{registerComponent:n}=i(4),s=i(2135),o=i(2141),{tabItemSelected:r,tabItemVideoMetricsChanged:a}=i(1591);n("tabs",{component:s,actions:{tabItemSelected:r,tabItemVideoMetricsChanged:a},reducer:o,trackingMap:i(2142)})},1374:function(e,t,i){"use strict";const n=i(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,i){"use strict";e.exports=function(e,t,i,n,s){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&s&&s(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,t,i){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},1438:function(e,t,i){"use strict";const n=i(8),s=i(168);e.exports=e=>{var t,i,o,r,a;const c=n(e,"_mediaType","image");switch(c){case"gif":if(null===(t=e._gif)||void 0===t||!t.src)return;break;case"video":if(null===(i=e._video)||void 0===i||!i.mp4)return;break;case"videoStream":if(null===(o=e._videoStream)||void 0===o||!o._service||null===(r=e._videoStream)||void 0===r||null===(a=r._options)||void 0===a||!a._source)return;break;case"image":default:if(!s(e._graphic))return}return c}},1591:function(e,t,i){"use strict";t.TAB_ITEM_SELECTED="TAB_ITEM_SELECTED",t.TAB_ITEM_VIDEO_METRICS="TAB_ITEM_VIDEO_METRICS",t.tabItemSelected=e=>({type:t.TAB_ITEM_SELECTED,payload:e}),t.tabItemVideoMetricsChanged=e=>({type:t.TAB_ITEM_VIDEO_METRICS,payload:e})},2135:function(e,t,i){"use strict";const n=i(8),s=i(2),o=i(1),r=i(0),a=i(7),{Component:c}=i(466),d=i(40),m=i(1374),l=i(1376),p=i(1375),b=i(2136),u=i(2139),h=s({displayName:"Tabs",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,tabItemSelected:o.func.isRequired,styles:o.object,screenSize:o.string.isRequired,tabItemVideoMetricsChanged:o.func.isRequired,animationEnded:o.bool,isRTL:o.bool},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){if(!e._isComplete){e._items.filter(e=>e._isVisited).length===e._items.length&&this.props.setComponentAsComplete(e._id)}},onTabItemSelected(e){this.props.tabItemSelected({componentId:this.props.component._id,itemId:e._id})},onItemVideoMetricsChanged(e,t){const{component:i,tabItemVideoMetricsChanged:n}=this.props;n({componentId:i._id,itemId:e,metrics:t})},onVisibilityChange(...e){p(...e,this,this.props.setComponentAsViewed)},renderContent(e){const{props:t}=this,i=e?b:u;return r.createElement(i,{componentId:t.component._id,items:t.component._items,onTabItemSelected:this.onTabItemSelected,onItemVideoMetricsChanged:this.onItemVideoMetricsChanged,tabTextStyles:t.component._tabTextStyles,animations:t.component._animations,animationEnded:t.animationEnded,isRTL:t.isRTL})},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context,i="large"===e.screenSize||e.component._alwaysUseLargeView;return r.createElement(c,{component:e.component,styles:e.styles,className:a({"ev-can-truncate-tab-text":n(e.component,"_canTruncateTabText",!0),"ev-tabs-large-view":i,"ev-tabs-small-view":!i}),isVisibilitySensorActive:l(e),onVisibilityChange:this.onVisibilityChange},r.createElement("div",{className:m(e.component)},r.createElement(d.Provider,{value:t},this.renderContent(i))))}});h.contextType=d,e.exports=h},2136:function(e,t,i){"use strict";const n=i(28),s=i(1),o=i(0),r=i(2137),a=i(2138),c=e=>{const t=o.useRef([]);t.current=n(e.items,()=>o.createRef());const i=t=>{const i=t+1;return i<e.items.length?i:0},s=t=>{const i=t-1;return i>=0?i:e.items.length-1},c=n=>{const o=e.isRTL?s(n):i(n);t.current[o].current.focus()},d=n=>{const o=e.isRTL?i(n):s(n);t.current[o].current.focus()},m=100/e.items.length;return o.createElement("div",null,o.createElement("div",{className:"ev-tabs-item-container ev-tabs-large ev-clearfix",role:"tablist","aria-orientation":"horizontal"},n(e.items,(i,n)=>o.createElement(r,{ref:t.current[n],key:i._id,id:`${e.componentId}-${i._id}`,index:n,item:i,tabWidth:m,tabTextStyles:e.tabTextStyles,onRightCursorKeyPress:c,onLeftCursorKeyPress:d,onTabItemSelected:e.onTabItemSelected}))),n(e.items,t=>o.createElement(a,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged,animations:e.animations,animationEnded:e.animationEnded})))};c.propTypes={componentId:s.string,items:s.array,animations:s.object,animationEnded:s.bool,tabTextStyles:s.object,isRTL:s.bool,onTabItemSelected:s.func.isRequired,onItemVideoMetricsChanged:s.func.isRequired},e.exports=c},2137:function(e,t,i){"use strict";const n=i(0),s=i(1),o=i(7),{isEnterKey:r,isSpaceKey:a,getDirectionKey:c}=i(169),d=n.forwardRef((e,t)=>n.createElement("div",{ref:t,id:"ev-tab-"+e.id,className:o("ev-tabs-item",{"ev-selected":e.item._isSelected,"ev-visited":e.item._isVisited}),style:{width:e.tabWidth+"%",maxWidth:e.tabWidth+"%"},role:"tab","aria-expanded":!0===e.item._isSelected,"aria-controls":"ev-panel-"+e.id,tabIndex:e.item._isSelected?0:-1,onKeyDown:t=>{if(r(t)||a(t))return e.onTabItemSelected(e.item),void t.preventDefault();const i=c(t);"right"===i&&e.onRightCursorKeyPress(e.index),"left"===i&&e.onLeftCursorKeyPress(e.index)},onClick:()=>e.onTabItemSelected(e.item)},n.createElement("div",{className:"ev-tabs-item-inner",style:(()=>{const t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=e.tabTextStyles._fontSize+"px"),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t})()},e.item.tabText)));d.displayName="TabsLargeViewNavigationItem",d.propTypes={id:s.string.isRequired,index:s.number.isRequired,item:s.object.isRequired,tabWidth:s.number.isRequired,tabTextStyles:s.object,onLeftCursorKeyPress:s.func.isRequired,onRightCursorKeyPress:s.func.isRequired,onTabItemSelected:s.func.isRequired},e.exports=d},2138:function(e,t,i){"use strict";const n=i(8),s=i(1),o=i(0),r=i(2),a=i(7),c=i(18),d=i(86),m=i(168),l=i(1438),p=i(217),b=i(96),u=i(89),h=i(30),_=i(29),v=i(304),S=i(303),y=i(40),g=r({displayName:"TabsLargeViewContent",propTypes:{id:s.string.isRequired,item:s.object.isRequired,onItemVideoMetricsChanged:s.func.isRequired,animations:s.object,animationEnded:s.bool},mixins:[c],componentDidUpdate({item:e}){const{item:t}=this.props;"video"===l(t)&&t._isSelected&&!e._isSelected&&n(t,"_video._shouldAutoPlay")&&this._video&&this._video.play()},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getContentClassName(){const{_graphic:e,_itemGraphicLayout:t="top"}=this.props.item,i="ev-clearfix ev-tabs-item-content ev-tabs-item-content-layout-"+t;if(!m(e))return i;const{_itemGraphicWidth:n="half"}=this.props.item,s="image"===l(this.props.item)&&("right"===t||"left"===t);return a(i,{["ev-tabs-item-content-graphic-width-"+n]:s})},renderMedia(){switch(l(this.props.item)){case"image":return this.renderGraphic();case"video":return this.renderVideo();case"videoStream":return this.renderVideoStream();default:return null}},renderGraphic(){const{_graphic:e}=this.props.item;return o.createElement("div",{className:"ev-tabs-item-content-graphic"},o.createElement(b,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled}))},renderVideo(){const{item:e}=this.props;return o.createElement("div",{className:"ev-tabs-item-content-video"},o.createElement("div",{className:"ev-tabs-item-content-video-inner"},o.createElement(S,{ref:e=>this._video=e,src:d(e._video.mp4),posterSrc:p(e._video.poster),subtitlesSrc:d(n(e,"_video._subtitles.src")),subtitlesLabel:n(e,"_video._subtitles.label"),transcriptText:n(e,"_video._transcript.body"),transcriptButtonText:n(e,"_video._transcript.button"),metrics:e._metrics,autoPlay:e._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:e._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(){const{item:e}=this.props;return o.createElement("div",{className:"ev-tabs-item-content-video"},o.createElement("div",{className:"ev-tabs-item-content-video-inner"},o.createElement(v,{id:this.props.id,service:e._videoStream._service,options:e._videoStream._options,isVisible:e._isSelected})))},renderText(){const{item:e}=this.props;return o.createElement("div",{className:"ev-tabs-item-content-text"},o.createElement(_,{element:"h"+this.context,className:"ev-tabs-item-content-title",html:e.title}),e.body&&o.createElement(h,{className:"ev-tabs-item-content-body",body:e.body}))},renderContent(){const{_itemGraphicLayout:e="top"}=this.props.item;return"top"===e||"left"===e?o.createElement(o.Fragment,null,this.renderMedia(),this.renderText()):o.createElement(o.Fragment,null,this.renderText(),this.renderMedia())},render(){const{props:e}=this;return o.createElement("div",{hidden:!e.item._isSelected,role:"tabpanel",id:"ev-panel-"+e.id,"aria-labelledby":"ev-tab-"+e.id},o.createElement("div",{className:this.getContentClassName()},o.createElement(u,{className:"ev-clearfix",animations:e.animations,startAnimation:e.item._isSelected},this.renderContent())))}});g.contextType=y,e.exports=g},2139:function(e,t,i){"use strict";const n=i(28),s=i(1),o=i(0),r=i(2140),a=e=>o.createElement("div",{className:"ev-tabs-item-container ev-tabs-small ev-clearfix",role:"tablist","aria-orientation":"vertical"},n(e.items,(t,i)=>o.createElement(r,{id:`${e.componentId}-${t._id}`,key:t._id,item:t,index:i,tabTextStyles:e.tabTextStyles,animations:e.animations,animationEnded:e.animationEnded,onTabItemSelected:e.onTabItemSelected,onItemVideoMetricsChanged:e.onItemVideoMetricsChanged})));a.propTypes={componentId:s.string,items:s.array,tabTextStyles:s.object,animations:s.object,animationEnded:s.bool,onTabItemSelected:s.func.isRequired,onItemVideoMetricsChanged:s.func.isRequired},e.exports=o.memo(a)},2140:function(e,t,i){"use strict";const n=i(8),s=i(1),o=i(0),r=i(2),a=i(7),c=i(18),d=i(86),m=i(1438),{isEnterKey:l}=i(169),p=i(217),b=i(96),u=i(89),h=i(29),_=i(30),v=i(40),S=i(303),y=i(304),g=r({displayName:"TabsSmallViewContent",propTypes:{id:s.string.isRequired,item:s.object.isRequired,animations:s.object,animationEnded:s.bool,tabTextStyles:s.object,onTabItemSelected:s.func.isRequired,onItemVideoMetricsChanged:s.func.isRequired},mixins:[c],componentDidUpdate({item:e}){const{item:t}=this.props;"video"===m(t)&&t._isSelected&&!e._isSelected&&n(t,"_video._shouldAutoPlay")&&this._video&&this._video.play()},onTabsItemClicked(e){e.preventDefault(),this.props.onTabItemSelected(this.props.item)},onKeyDown(e){l(e)&&this.props.onTabItemSelected(this.props.item)},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChanged(this.props.item._id,e)},getTabTextStyle(){const{props:e}=this,t={};return e.tabTextStyles?(e.tabTextStyles._fontSize&&(t.fontSize=e.tabTextStyles._fontSize+"px"),e.tabTextStyles._textAlign&&(t.textAlign=e.tabTextStyles._textAlign),t):t},renderMedia(e){const t=this.props.item._itemGraphicLayout;if(e&&"bottom"!==t||!e&&"bottom"===t)return;const i=a("ev-tabs-item-content-media",{"ev-is-bottom":e});switch(m(this.props.item)){case"image":return this.renderGraphic(i);case"video":return this.renderVideo(i);case"videoStream":return this.renderVideoStream(i);default:return null}},renderGraphic(e){const{_graphic:t}=this.props.item;return o.createElement(b,{className:e,graphicSrc:t.src,graphicSrcAdvanced:t.srcAdvanced,altText:t.alt,autoSize:!0,isLightboxEnabled:t._isLightboxEnabled,lightboxSrc:t.lightboxSrc,lightboxSrcAdvanced:t.lightboxSrcAdvanced,isMagnifierEnabled:t._isMagnifierEnabled})},renderVideo(e){const{item:t}=this.props;return o.createElement("div",{className:e},o.createElement("div",{className:"ev-tabs-item-content-video-inner"},o.createElement(S,{ref:e=>this._video=e,src:d(t._video.mp4),posterSrc:p(t._video.poster),subtitlesSrc:d(n(t,"_video._subtitles.src")),subtitlesLabel:n(t,"_video._subtitles.label"),transcriptText:n(t,"_video._transcript.body"),transcriptButtonText:n(t,"_video._transcript.button"),metrics:t._metrics,autoPlay:t._video._shouldAutoPlay,onMetricsChange:this.onItemVideoMetricsChange,isVisible:t._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(e){const{item:t}=this.props;return o.createElement("div",{className:e},o.createElement("div",{className:"ev-tabs-item-content-video-inner"},o.createElement(y,{id:this.props.id,service:t._videoStream._service,options:t._videoStream._options,isVisible:t._isSelected})))},render(){const{props:e}=this;return o.createElement("div",null,o.createElement("div",{className:a("ev-tabs-item",{"ev-selected":e.item._isSelected}),onClick:this.onTabsItemClicked,onKeyDown:this.onKeyDown,role:"tab",tabIndex:"0",id:"ev-tab-"+e.id,"aria-expanded":!0===e.item._isSelected,"aria-controls":"ev-panel-"+e.id,style:this.getTabTextStyle()},o.createElement("span",{className:"ev-tabs-item-inner"},e.item.tabText)),o.createElement("div",{hidden:!e.item._isSelected,role:"tabpanel",id:"ev-panel-"+e.id,"aria-labelledby":"ev-tab-"+e.id},o.createElement(u,{animations:e.animations,startAnimation:!0===e.item._isSelected},this.renderMedia(!1),e.item.title&&o.createElement(h,{element:"h"+this.context,className:"ev-tabs-item-content-title",html:e.item.title}),e.item.body&&o.createElement(_,{className:"ev-tabs-item-content-body",body:e.item.body}),this.renderMedia(!0))))}});g.contextType=v,e.exports=g},2141:function(e,t,i){"use strict";const n=i(28),{SETUP_COMPONENT:s}=i(61),{TAB_ITEM_SELECTED:o,TAB_ITEM_VIDEO_METRICS:r}=i(1591);e.exports=(e,t)=>{switch(t.type){case s:return function(e){const t=e._items.find(e=>e._isSelected);if(e._items.length&&!t){const t=n(e._items,(e,t)=>({...e,_isSelected:0===t,_isVisited:0===t}));return{...e,_items:t}}return e}(e);case o:return function(e,t){const{itemId:i}=t.payload,s=n(e._items,e=>e._id===i?{...e,_isSelected:!0,_isVisited:!0}:e._isSelected?{...e,_isSelected:!1}:e);return{...e,_items:s}}(e,t);case r:return function(e,t){const i=n(e._items,e=>e._id===t.payload.itemId?{...e,_metrics:t.payload.metrics}:e);return{...e,_items:i}}(e,t);default:return e}}},2142:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}}}]);