(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1315:function(t,e,i){"use strict";const{registerEpics:a}=i(4),{registerElementsEpic:r}=i(2208);a(r)},2208:function(t,e,i){"use strict";const{SETUP_APP:a}=i(9),{addElement:r}=i(42),n=i(2209);e.registerElementsEpic=(t,e)=>t.filter(t=>{if(t.type!==a)return!1;const{course:i}=e.getState();return i._articleIndicator&&i._articleIndicator._isEnabled}).map(()=>{const{_articleIndicator:t,_isRTL:i}=e.getState().course;return r({name:"articleIndicator",component:n,props:{isLeft:!!i||t._isOnLeftSide,ariaLabel:t.ariaLabel},parent:"page",position:"container"})})},2209:function(t,e,i){"use strict";var a=i(24)(i(32));const r=i(2),n=i(0),{connect:s}=i(6),c=i(121),l=i(2210),o=r({displayName:"ArticleIndicatorContainer",render:function(){return n.createElement(l,(0,a.default)({key:this.props.articles.length},this.props))}});t.exports=s((t,e)=>({articles:c(t,e.page,"article",!t.isShowingHiddenContent)}))(o)},2210:function(t,e,i){"use strict";(function(e){const a=i(28),r=i(222),n=i(2),s=i(0),c=i(55),{array:l,bool:o,string:d}=i(1),p=i(7),u=i(2211),h=n({displayName:"ArticleIndicator",propTypes:{isLeft:o.isRequired,ariaLabel:d,articles:l.isRequired},getInitialState:()=>({$articleElements:null,activeArticleId:null,topPosition:null}),componentDidMount(){this.setState({$articleElements:e(".ev-article")},this.updateState),window.addEventListener("scroll",this.updateState)},componentWillUnmount(){window.removeEventListener("scroll",this.updateState)},updateState(){this.getTopPosition(),this.findActiveArticle()},getTopPosition(){const t=e(".ev-navigation-top"),i=t[0]?t.height():0,a=e(c.findDOMNode(this)),r=e(window),n=r.height(),s=a.outerHeight(),l=r.scrollTop();let o=null;if(s>n-i){o=(n-s)/100*(l/(e(document).height()-n)*100)}this.setState({topPosition:o})},findActiveArticle:r((function(){const t=window.pageYOffset,i=this.state.$articleElements;if(0===t)return void this.setState({activeArticleId:i[0].getAttribute("data-id")});const a=window.innerHeight;if(t+a===e(document).height())return void this.setState({activeArticleId:i[i.length-1].getAttribute("data-id")});const r=a/3;let n;i.each((t,i)=>{const{top:s,bottom:c,left:l}=i.getBoundingClientRect();if(c>r&&l<e(window).width()&&s<a+r)return n=i.getAttribute("data-id"),!1}),this.setState({activeArticleId:n})}),100),getClassName(){return p("ev-article-indicator",{"ev-is-centered":null===this.state.topPosition,"ev-is-left":this.props.isLeft,"ev-is-right":!this.props.isLeft})},getStyle(){const t={};return null!==this.state.topPosition&&(t.top=this.state.topPosition+"px"),t},renderArticles(){return a(this.props.articles,t=>s.createElement(u,{key:t._id,articleId:t._id,title:t.displayTitle||t.title,active:this.state.activeArticleId===t._id,ariaLabel:t.ariaLabel}))},render(){return s.createElement("div",{role:"navigation","aria-label":this.props.ariaLabel,className:this.getClassName(),style:this.getStyle()},this.renderArticles())}});t.exports=h}).call(this,i(27))},2211:function(t,e,i){"use strict";const a=i(0),r=i(7),{bool:n,string:s}=i(1),c=i(230),l=i(29),o=t=>a.createElement("div",{role:"button",className:r("ev-article-indicator-circle",{"ev-active-indicator-circle":t.active}),onClick:e=>{e.preventDefault(),c(t.articleId)},tabIndex:"0","aria-label":t.ariaLabel,"aria-describedby":t.articleId+"-article-indicator-title","aria-current":t.active},a.createElement("div",{className:"ev-article-indicator-title"},a.createElement(l,{id:t.articleId+"-article-indicator-title",className:"ev-inner-article-indicator-title",html:t.title}),a.createElement("span",{className:"ev-article-indicator-arrow"})));o.propTypes={articleId:s.isRequired,active:n.isRequired,title:s.isRequired,ariaLabel:s},t.exports=o}}]);