(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1248:function(e,t,i){"use strict";const{registerComponent:s}=i(4),n=i(1666),o=i(1668),{setAudioItemAsComplete:r}=i(1519);s("audio",{component:n,actions:{setAudioItemAsComplete:r},reducer:o,trackingMap:i(1669)})},1374:function(e,t,i){"use strict";const s=i(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,i){"use strict";e.exports=function(e,t,i,s,n){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&n&&n(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,t,i){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:s}=e;return!0===s&&!0===i._isReady&&!0!==i[t]}},1377:function(e,t,i){"use strict";const s=i(34),n=i(11),o=i(2),r=i(0),a=i(7),l=i(1),d=i(218),{Trail:p,config:m,animated:c,interpolate:u}=i(75),{connect:h}=i(6),_=o({displayName:"Grid",propTypes:{isList:l.bool.isRequired,isRTL:l.bool.isRequired,shouldIgnoreScreenSize:l.bool.isRequired,animations:l.object,gridItemStyle:l.object,gridItemInnerStyle:l.object,windowWidth:l.number.isRequired,getGridItemInnerStyle:l.func,hasGridItemInnerPadding:l.bool,className:l.string,columns:l.number,separatorBorder:l.string},getDefaultProps:()=>({isList:!1,isRTL:!1,shouldIgnoreScreenSize:!1,gridItemStyle:{},gridItemInnerStyle:{},hasGridItemInnerPadding:!0,animations:{_slideInX:{_isEnabled:!1},_slideInY:{_isEnabled:!1},_fadeInItem:{_isEnabled:!1},_scaleInItem:{_isEnabled:!1},_easing:"default"}}),getInitialState(){return{columns:this.getColumns(window.innerWidth,this.props.columns),isVisible:!1,_animationEnded:!1}},componentDidMount(){this._isMounted=!0},componentWillUnmount(){this._isMounted=!1},UNSAFE_componentWillReceiveProps(e){const{props:t}=this,i=e.windowWidth!==t.windowWidth,s=t.columns!==e.columns;(i||s)&&this.updateColumns(e.windowWidth,e.columns)},getGridClassName(){return a("ev-grid",this.props.className)},getColumns(e,t){if(this.props.shouldIgnoreScreenSize)return t;return e>=768?t||2:e<768&&e>=520?2:1},updateColumns(e,t){this._isMounted&&this.setState({columns:this.getColumns(e,t)})},getAnimationsEnabled(){const{animations:e}=this.props;let t=!1;return e&&(t=0!==s(e).values().filter({_isEnabled:!0}).value().length),t},getGridItemStyle(e,t,i,s,o,r){const{isRTL:a}=this.props,{_animationEnded:l}=this.state,d=100/this.state.columns,p=n({flex:d+"%",textAlign:"center",boxSizing:"border-box",margin:"10px 0"},this.props.gridItemStyle);t&&(p.opacity=i,p.transform=u([s,o,r],(e,t,i)=>`translate(${e}%,${t}%) scale(${i})`),l&&(p.transform="none"));const m=this.props.children.length%this.state.columns;if((e+1)%this.state.columns!=0&&this.props.separatorBorder&&(p.borderRight=this.props.separatorBorder),0!==m)if(1===m){e===this.props.children.length-1&&(p.margin="auto")}else{if(e===this.props.children.length-m){let e=d/2;2===m&&4===this.state.columns&&(e=d),a?p.marginRight=e+"%":p.marginLeft=e+"%"}}return p},getGridItemInnerStyle(e){const{gridItemInnerStyle:t,getGridItemInnerStyle:i,hasGridItemInnerPadding:s}=this.props,o=i?i(e):{};return n({padding:s?"0 10px":0,boxSizing:"border-box"},t,o)},getVisibilitySensorActive(){return!1===this.state.isVisible},onVisibilityChange(e){e&&this.setState({isVisible:!0})},getSpringFrom(){const{animations:e}=this.props,{_slideInX:t,_slideInY:i,_fadeIn:s,_scaleIn:n}=e;return{x:t&&t._isEnabled?t._isReverseDirection?-t._from:t._from:0,y:i&&i._isEnabled?i._isReverseDirection?-i._from:i._from:0,opacity:s&&s._isEnabled?s._from/100:1,scale:n&&n._isEnabled?n._from/100:1}},getSpringTo(){const{isVisible:e}=this.state;return e?{opacity:1,x:0,y:0,scale:1}:this.getSpringFrom()},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderGridItems(e){const{isList:t,children:i,animations:s}=this.props,n=t?c.li:c.div;return e?r.createElement(p,{native:!0,key:i.length,from:this.getSpringFrom(),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:m[s._easing]||m.default,keys:i.map((e,t)=>t),items:i},(e,t)=>({opacity:i,x:s,y:o,scale:a})=>r.createElement(n,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!0,i,s,o,a)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))):i.map((e,t)=>r.createElement(n,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!1)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e)))},render(){const{isList:e}=this.props,t=e?"ul":"div";return this.getAnimationsEnabled()?r.createElement(d,{active:this.getVisibilitySensorActive(),partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!0))):r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!1))}});e.exports=h(({device:e,course:t})=>({windowWidth:e.windowWidth,isRTL:t._isRTL}))(_)},1519:function(e,t,i){"use strict";t.SET_AUDIO_ITEM_AS_COMPLETE="SET_AUDIO_ITEM_AS_COMPLETE",t.setAudioItemAsComplete=(e,i)=>({type:t.SET_AUDIO_ITEM_AS_COMPLETE,payload:{componentId:e,itemId:i}})},1666:function(e,t,i){"use strict";const s=i(31),n=i(28),o=i(2),{func:r,object:a}=i(1),l=i(0),d=i(7),{Component:p}=i(466),m=i(1377),c=i(1376),u=i(1375),h=i(1374),_=i(1667),C=o({displayName:"Audio",propTypes:{component:a.isRequired,showPrompt:r.isRequired,setAudioItemAsComplete:r.isRequired,setComponentAsReady:r.isRequired,setComponentAsViewed:r.isRequired,setComponentAsStarted:r.isRequired,setComponentAsComplete:r.isRequired,styles:a},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{props:t}=this;s(e.component._items,e=>e._isComplete).length!==e.component._items.length||e.component._isComplete||t.setComponentAsComplete(t.component._id)},setAudioItemAsComplete(e){this.props.setAudioItemAsComplete(this.props.component._id,e)},setComponentAsStarted(){this.props.component._hasStarted||this.props.setComponentAsStarted(this.props.component._id)},onTranscriptButtonClicked(e){this.props.showPrompt({body:e._transcript.body,_glyph:{_type:"icon",_icon:"audio-book"}})},onVisibilityChange(...e){u(...e,this,this.props.setComponentAsViewed)},getClassName(){const{component:e}=this.props;return d(h(e),{"ev-has-grid-layout":e._enableColumnLayout})},renderItems(){return n(this.props.component._items,e=>l.createElement(_,{key:e._id,item:e,enableColumnLayout:this.props.component._enableColumnLayout,shouldDisplayControls:this.props.component._shouldDisplayControls,setComponentAsStarted:this.setComponentAsStarted,setAudioItemAsComplete:this.setAudioItemAsComplete,onTranscriptButtonClicked:this.onTranscriptButtonClicked}))},renderItemsContainer(){const{component:e}=this.props;return e._enableColumnLayout?l.createElement(m,{isList:!0,columns:e._numberOfColumns,animations:e._animations},this.renderItems()):l.createElement("ul",{className:"ev-audio-items"},this.renderItems())},render(){const{props:e}=this;return l.createElement(p,{component:e.component,styles:e.styles,isVisibilitySensorActive:c(e),onVisibilityChange:this.onVisibilityChange},l.createElement("div",{className:this.getClassName()},this.renderItemsContainer()))}});e.exports=C},1667:function(e,t,i){"use strict";const s=i(8),n=i(2),{bool:o,func:r,object:a}=i(1),l=i(0),d=i(18),p=i(86),m=i(215),c=i(96),u=i(218),h=n({displayName:"AudioItem",propTypes:{item:a.isRequired,enableColumnLayout:o,shouldDisplayControls:o,setAudioItemAsComplete:r.isRequired,setComponentAsStarted:r.isRequired,onTranscriptButtonClicked:r.isRequired},mixins:[d],componentDidUpdate({item:e}){if(!this._audio)return;const{item:t}=this.props;var i,n;if(t._audio._isExternalLink!==e._audio._isExternalLink)return void(null===(i=(n=this._audio).load)||void 0===i||i.call(n));if(t._audio._isExternalLink){var o,r;if(t._audio.externalUrl!==e._audio.externalUrl)null===(o=(r=this._audio).load)||void 0===o||o.call(r);return}var a,l;p(s(t,"_audio.mp3"))!==p(s(e,"_audio.mp3"))&&(null===(a=(l=this._audio).load)||void 0===a||a.call(l))},setAudioItemAsComplete(){this.props.setAudioItemAsComplete(this.props.item._id)},onAudioButtonClicked(e){var t,i,s;if(e.preventDefault(),this._audio.paused)return this._audio.currentTime=0,void(null===(s=this._audio)||void 0===s||s.play());null===(t=(i=this._audio).pause)||void 0===t||t.call(i)},onPlay(){const{props:e}=this;"play"!==e.item._setCompletionOn||e.item._isComplete||this.setAudioItemAsComplete(),e.setComponentAsStarted()},onTranscriptButtonClicked(e){const{props:t}=this;"play"!==t.item._setCompletionOn&&"ended"!==t.item._setCompletionOn||t.item._isComplete||this.setAudioItemAsComplete(),t.setComponentAsStarted(),t.onTranscriptButtonClicked(t.item,e.currentTarget)},onAudioEnded(){const{props:e}=this;"ended"!==e.item._setCompletionOn||e.item._isComplete||this.setAudioItemAsComplete()},onVisibilityChanged(e,{top:t,bottom:i}){t&&(this.isInviewTop=!0),i&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&this.setAudioItemAsComplete()},getIsVisibilitySensorActive(){const{item:e}=this.props;return"inview"===s(e,"_setCompletionOn","inview")&&!e._isComplete},renderAudioSource(){const{item:e}=this.props;let t=e._audio.mp3;return t&&(t=p(t)),e._audio._isExternalLink&&(t=e._audio.externalUrl),l.createElement("source",{src:t,type:"audio/mp3"})},renderAudioElement(){const{item:e,shouldDisplayControls:t}=this.props,i=!e._audio.poster||t;return l.createElement("audio",{ref:e=>this._audio=e,preload:"auto",onPlay:this.onPlay,onEnded:this.onAudioEnded,controls:i,controlsList:"nodownload"},this.renderAudioSource())},renderAudioButton(){const{_audio:e}=this.props.item;if(e.poster)return l.createElement("button",{className:"ev-audio-player-button",onClick:this.onAudioButtonClicked},l.createElement(c,{graphicSrc:e.poster,altText:e.alt,autoSize:!1}))},renderTranscriptButton(){const{_transcript:e}=this.props.item;if(null!=e&&e.body)return l.createElement("div",{className:"ev-transcript-button-container"},l.createElement(m,{className:"ev-transcript-button",text:e.button,onClick:this.onTranscriptButtonClicked}))},render(){const{props:e}=this,t=e.enableColumnLayout?"div":"li";return l.createElement(u,{active:this.getIsVisibilitySensorActive(),delay:600,partialVisibility:!0,onChange:this.onVisibilityChanged},l.createElement(t,{className:"ev-audio-item"},this.renderAudioButton(),this.renderAudioElement(),this.renderTranscriptButton()))}});e.exports=h},1668:function(e,t,i){"use strict";const s=i(28),n=i(11),{SET_AUDIO_ITEM_AS_COMPLETE:o}=i(1519);e.exports=function(e,t){if(t.type===o){const i=s(e._items,e=>e._id===t.payload.itemId?n({},e,{_isComplete:!0}):e);return n({},e,{_items:i})}return e}},1669:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isComplete:{fieldKey:"_isComplete",type:"Boolean",shouldRestore:!0}}}}}}]);