(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1307:function(e,t,i){"use strict";const{registerMenu:s}=i(4);s("coverMenu",i(2170))},1390:function(e,t,i){"use strict";const s=i(8),n=i(2),r=i(1),o=i(0),a=i(7),{Spring:l,config:c,animated:d}=i(75),{connect:u}=i(6),h=n({displayName:"Carousel",propTypes:{currentIndex:r.number.isRequired,initialIndex:r.number.isRequired,animations:r.object.isRequired,className:r.string,isRTL:r.bool,verticalAlignment:r.string,_ref:r.func},getInitialState:()=>({_animationEnded:!1,_canAnimateItemTransform:!1}),UNSAFE_componentWillReceiveProps(e){const{currentIndex:t}=this.props;t!==e.currentIndex&&this.setState({_canAnimateItemTransform:!0})},getDefaultProps:()=>({currentIndex:0,initialIndex:0,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!1},_scaleIn:{_isEnabled:!1},_easing:"default"}}),onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderCarousel(){const{currentIndex:e,initialIndex:t,animations:i}=this.props,s=100*t,n=100*e;return i._slideIn?o.createElement(l,{native:!0,from:{x:s},to:{x:n},config:c[i._easing]||c.default},({x:e})=>this.renderCarouselInner(e,!0)):this.renderCarouselInner(n)},renderCarouselInner(e,t){const{verticalAlignment:i,isRTL:s}=this.props,n="ev-carousel-inner ev-vertical-align-"+(i?i.toLowerCase():"normal"),r=s?"":"-",a=t?d.ul:"ul",l={left:t?e.interpolate(e=>`${r}${e}%`):`${r}${e}%`};return o.createElement(a,{className:n,style:l},this.renderCarouselItems())},getItemStyle(e,t){const{_animationEnded:i,_canAnimateItemTransform:s}=this.state,n={opacity:e,transform:t.interpolate(e=>`scale(${e})`)};return!i&&s||(n.transform="none"),n},renderCarouselItems(){const{children:e,currentIndex:t,animations:i}=this.props;return e.map((e,s)=>{const n=s===t,{_fadeIn:r,_scaleIn:a}=i;return o.createElement(l,{native:!0,key:s,from:{opacity:r&&r._isEnabled?r._from/100:.99,scale:a&&a._isEnabled?a._from/100:1},to:{opacity:r&&r._isEnabled?n?1:r._from/100:1,scale:a&&a._isEnabled?n?1:a._from/100:1},config:c[i._easing]||c.default,onStart:this.onStart,onRest:this.onRest},({opacity:t,scale:i})=>o.createElement(d.li,{className:"ev-carousel-item","aria-hidden":!n,style:this.getItemStyle(t,i)},e))})},render(){return o.createElement("div",{ref:this.props._ref,className:a("ev-carousel",this.props.className)},this.renderCarousel())}});e.exports=u(({course:e,device:t})=>({isRTL:s(e,"_isRTL",!1),windowWidth:t.windowWidth}))(h)},1391:function(e,t,i){"use strict";e.exports=function(e){var t;const i=e.displayTitle,s=null!==(t=e._heroImage)&&void 0!==t&&t._isEnabled?e._heroImage.title:null;return i||s}},1500:function(e,t,i){"use strict";const s=i(2),n=i(1),r=i(0),o=i(55),a=s({displayName:"Swipeable",propTypes:{onSwipe:n.func.isRequired,threshold:n.number,allowedTime:n.number,restraint:n.number},getDefaultProps:function(){return{threshold:30,allowedTime:400,restraint:100}},getInitialState:function(){return{_startX:0,_startY:0,_startTime:0}},onTouchStart:function(e){const t=e.changedTouches[0];this.setState({_startX:t.pageX,_startY:t.pageY,_startTime:(new Date).getTime()}),e.target===o.findDOMNode(this)&&e.preventDefault()},onTouchMove:function(){},onTouchEnd:function(e){const t=e.changedTouches[0],i=t.pageX-this.state._startX,s=t.pageY-this.state._startY,n=(new Date).getTime()-this.state._startTime;let r="none";n<=this.props.allowedTime&&(Math.abs(i)>=this.props.threshold&&Math.abs(s)<=this.props.restraint?r=i<0?"left":"right":Math.abs(s)>=this.props.threshold&&Math.abs(i)<=this.props.restraint&&(r=s<0?"up":"down"));const a={direction:r,speed:{x:i/n,y:s/n},distance:{x:i,y:s},timeTaken:n};this.props.onSwipe(a),this.setState({_startX:0,_startY:0,_startTime:0}),e.target===o.findDOMNode(this)&&e.preventDefault()},render:function(){return r.createElement("div",{className:"ev-swipeable",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.props.children)}});e.exports=a},2170:function(e,t,i){"use strict";const s=i(307),n=i(180),r=i(8),o=i(28),a=i(2),l=i(1),c=i(0),{connect:d}=i(6),u=i(7),{Transition:h,interpolate:m}=i(75),p=i(215),v=i(1390),g=i(1500),_=i(478),b=i(62),{setAriaLive:y}=i(58),f=i(2171),I=i(2172),E=a({displayName:"CoverMenu",propTypes:{menu:l.object.isRequired,device:l.object.isRequired,theme:l.object.isRequired,itemIds:l.array.isRequired,hasActionBar:l.bool.isRequired,location:l.object.isRequired,setAriaLive:l.func.isRequired,classList:l.array,isRTL:l.bool.isRequired},getInitialState(){const e=this.getInitialStage();return{_isCoverVisible:!this.props.menu._isVisited,_stage:e,_initialStage:e,_height:window.innerHeight,_width:window.innerWidth}},componentDidMount(){this.setSize(),this.props.device.touch&&window.addEventListener("scroll",this.onWindowScroll),this.props.menu.ariaLabel&&this.props.setAriaLive({message:this.props.menu.ariaLabel,delay:200})},componentDidUpdate(e,t){if(t._isCoverVisible&&!this.state._isCoverVisible){var i,s;const e=this.props.itemIds[this.state._stage],t=document.getElementById(e+"-title");null==t||null===(i=t.firstChild)||void 0===i||null===(s=i.focus)||void 0===s||s.call(i)}},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setSize()},componentWillUnmount(){this.props.device.touch&&window.removeEventListener("scroll",this.onWindowScroll)},onWindowScroll:n((function(){this.state._isCoverVisible||window.scrollTo(0,0)}),300),getInitialStage(){const{previousId:e}=this.props.location;if(!e)return 0;const t=this.props.itemIds.indexOf(e);return-1===t?0:t},setSize(){this.setState({_height:this.getHeight(),_width:this.getWidth()})},getHeight(){const e=document.querySelector(".ev-content-container");return window.innerHeight-e.offsetTop},getWidth:()=>document.querySelector(".ev-content-container").getBoundingClientRect().width,onCarouselSwipe(e){if(!["left","right"].includes(e.direction))return;const t="left"===e.direction?this.state._stage+1:this.state._stage-1;this.setState({_stage:s(t,0,this.props.itemIds.length-1)})},getClassName(){const{props:e}=this;return u("ev-menu",e.classList,{"ev-use-menu-header-styles":e.theme._menu._settings._useMenuHeaderStyles})},renderCover(){const{menu:e,theme:t,device:i,hasActionBar:s}=this.props;return c.createElement(h,{native:!0,items:this.state._isCoverVisible,from:{opacity:0,y:0},enter:{opacity:1,y:0},leave:{opacity:0,y:-100}},n=>n&&(({opacity:n,y:r})=>{var o,a,l;return c.createElement(I,{key:"cover",style:{opacity:n,transform:m([r],e=>`translateY(${e}%)`)},title:e.displayTitle,body:e.body,shouldHideHeader:e._hidePageHeader,height:this.state._height,src:null===(o=e._coverMenu)||void 0===o?void 0:o.src,srcAdvanced:null===(a=e._coverMenu)||void 0===a?void 0:a.srcAdvanced,buttonText:(null===(l=e._coverMenu)||void 0===l?void 0:l._coverButtonText)||"View",actionBarElements:b("menu","actionBar",{menu:e}),displayTitleSettings:e._displayTitleSettings,onCoverButtonClicked:()=>this.setState({_isCoverVisible:!1},()=>this.setSize()),theme:t,device:i,hasActionBar:s})}))},renderIndicators(){return o(this.props.itemIds,(e,t)=>c.createElement("li",{key:e},c.createElement(p,{text:""+(t+1),className:"ev-carousel-indicator",isDisabled:t===this.state._stage,"aria-current":t===this.state._stage,onClick:()=>this.setState({_stage:t})})))},renderCarousel(){return c.createElement(g,{onSwipe:this.onCarouselSwipe},c.createElement("div",{className:"ev-cover-carousel",style:{width:this.state._width+"px",visibility:this.state._isCoverVisible?"hidden":"visible"}},this.renderCarouselLeftControl(),c.createElement(v,{currentIndex:this.state._stage,initialIndex:this.state._initialStage,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!0,_from:50},_scaleIn:{_isEnabled:!1},_easing:"slow"}},this.renderItems()),this.renderCarouselRightControl(),c.createElement("div",{className:"ev-carousel-indicators"},c.createElement("ul",{className:"ev-carousel-indicators-inner"},c.createElement("li",null,c.createElement(p,{className:"ev-carousel-indicator",icon:"home4","aria-label":this.props.menu._coverMenu.homeButtonAriaLabel,onClick:()=>this.setState({_stage:0,_isCoverVisible:!0})})),this.renderIndicators()))))},renderCarouselLeftControl(){const{isRTL:e,menu:t}=this.props;return c.createElement(p,{className:u("ev-carousel-control",{"ev-carousel-control-left":!e,"ev-carousel-control-right":e}),icon:e?"arrow-right":"arrow-left","aria-label":t._coverMenu.prevButtonAriaLabel,isDisabled:0===this.state._stage,onClick:()=>this.setState({_stage:this.state._stage-1})})},renderCarouselRightControl(){const{isRTL:e,menu:t}=this.props;return c.createElement(p,{className:u("ev-carousel-control",{"ev-carousel-control-right":!e,"ev-carousel-control-left":e}),icon:e?"arrow-left":"arrow-right","aria-label":t._coverMenu.nextButtonAriaLabel,isDisabled:this.state._stage===this.props.itemIds.length-1,onClick:()=>this.setState({_stage:this.state._stage+1})})},getShouldShowProgressBars(){const{props:e}=this,t=r(e.theme,"_menu._settings._shouldShowProgressBarsOnMenus","content"),i=r(e.menu,"_coverMenu._shouldShowProgressBarsOnMenus",!0);return"content"===t?i:"true"===t},renderItems(){var e,t;const i=this.getShouldShowProgressBars(),s=null===(e=this.props.theme._menu)||void 0===e||null===(t=e._settings)||void 0===t?void 0:t._durationIcon;return o(this.props.itemIds,(e,t)=>c.createElement(f,{key:e,itemId:e,width:this.state._width,height:this.state._height,isCurrentItem:t===this.state._stage,shouldShowProgressBarsOnMenus:i,durationIcon:s}))},render(){const{classList:e,menu:t,theme:i}=this.props;return c.createElement("main",{className:u("ev-menu",e,{"ev-use-menu-header-styles":i._menu._settings._useMenuHeaderStyles})},c.createElement("div",{className:"ev-cover-menu"},_(t),this.renderCover(),this.renderCarousel()))}});e.exports=d(e=>({isRTL:e.course._isRTL}),{setAriaLive:y})(E)},2171:function(e,t,i){"use strict";const s=i(2),n=i(1),r=i(0),o=i(7),a=i(1391),l=i(478),c=i(219),d=i(62),{MenuItemProgress:u,MenuItemDuration:h,MenuItemLink:m,MenuItemHOC:p}=i(301),v=i(76),g=i(30),_=i(18),b=s({displayName:"CoverMenuItem",propTypes:{item:n.object.isRequired,isCurrentItem:n.bool,shouldShowProgressBarsOnMenus:n.bool,durationIcon:n.string,width:n.number.isRequired,height:n.number.isRequired,pageMenuItemsCompletedCount:n.number,pageMenuItemsCount:n.number,completedChildrenAsPercentage:n.number.isRequired},mixins:[_],renderTitle(){const e=a(this.props.item);if(e)return r.createElement(v,{id:this.props.item._id+"-title",headingElement:"h2",displayTitle:e,className:"ev-menu-item-title",innerClassName:"ev-menu-item-title-inner",tabIndex:"-1"})},renderBody(){if(this.props.item.description)return r.createElement(g,{body:this.props.item.description,className:"ev-menu-item-body",innerClassName:"ev-menu-item-body-inner"})},renderDuration(){const{duration:e,durationLabel:t}=this.props.item;if(e)return r.createElement(h,{duration:e,durationIcon:this.props.durationIcon,durationLabel:t})},renderProgress(){const{props:e}=this;if(e.shouldShowProgressBarsOnMenus)return r.createElement(u,{item:e.item,pageMenuItemsCompletedCount:e.pageMenuItemsCompletedCount,pageMenuItemsCount:e.pageMenuItemsCount,completedChildrenAsPercentage:e.completedChildrenAsPercentage})},renderLink(){const{item:e}=this.props;return r.createElement(m,{isLocked:e._isLocked,isVisited:e._isVisited,linkText:e.linkText,linkIcon:e.linkIcon,isLinkIconRightPosition:e.isLinkIconRightPosition,link:`/${e._type}/${e._id}`})},getItemStyle(){const e={width:this.props.width+"px",height:this.props.height+"px"};if(!this.props.item._coverMenu)return e;const{src:t,srcAdvanced:i}=this.props.item._coverMenu;return e.backgroundImage=`url(${c(t,i,!0)})`,e},getItemClass(){return o("ev-menu-item-container",{"ev-is-current-item":this.props.isCurrentItem})},renderElements(e){return d("menuItem",e,{item:this.props.item})},render(){return r.createElement("div",{id:this.props.item._id,name:"menu item",className:this.getItemClass(),style:this.getItemStyle()},l(this.props.item,"menuitem"),r.createElement("div",{className:"ev-menu-item ev-collection-item ev-menu-item-"+this.props.item._id},this.renderElements("root"),r.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner"},r.createElement("div",{className:"ev-collection-item-content"},r.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderTitle(),this.renderBody(),this.renderDuration(),this.renderElements("content"))),r.createElement("div",{className:"ev-collection-item-aside"},r.createElement("div",{className:"ev-collection-item-aside-inner"})),r.createElement("div",{className:"ev-collection-item-footer"},r.createElement("div",{className:"ev-collection-item-footer-inner ev-clearfix"},this.renderProgress(),this.renderLink())))))}});e.exports=p(b)},2172:function(e,t,i){"use strict";const s=i(222),n=i(2),r=i(1),o=i(0),{animated:a}=i(75),l=i(7),c=i(316),d=i(219),u=i(215),h=i(30),m=i(76),p=i(40),v=n({displayName:"CoverMenuCover",propTypes:{theme:r.object.isRequired,height:r.number.isRequired,title:r.string,body:r.string,buttonText:r.string,device:r.object.isRequired,hasActionBar:r.bool.isRequired,actionBarElements:r.element.isRequired,onCoverButtonClicked:r.func.isRequired,src:r.object,srcAdvanced:r.object,style:r.object,displayTitleSettings:r.object},getInitialState:()=>({_overrideHeight:null}),componentDidMount(){this.setContentHeight()},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setContentHeight()},setContentHeight:s((function(){const{offsetHeight:e}=this._content;this.setState({_overrideHeight:e>this.props.height?e:null})}),100),getHeaderClass(){return l("ev-menu-header ev-header",{"ev-header-with-action-bar":this.props.hasActionBar})},getStyle(){return{height:this.state._overrideHeight?this.state._overrideHeight+"px":this.props.height+"px",backgroundImage:`url(${d(this.props.src,this.props.srcAdvanced,!0)})`,...this.props.style}},renderTitle(){if(this.props.title)return o.createElement(m,{headingElement:"h"+this.context,displayTitle:this.props.title,displayTitleSettings:this.props.displayTitleSettings,className:"ev-menu-title ev-header-title",innerClassName:"ev-menu-title-inner ev-header-title-inner"})},renderBody(){if(this.props.body)return o.createElement(h,{body:this.props.body,className:"ev-menu-body ev-header-body",innerClassName:"ev-menu-body-inner ev-header-body-inner"})},renderHeader(){const e=this.props.theme._menu._settings;return null!=e&&e._hideMenuHeader?null:this.props.title||this.props.body?o.createElement("div",{className:this.getHeaderClass(),style:c(!0)},o.createElement("div",{className:"ev-menu-header-inner ev-header-inner"},this.renderTitle(),this.renderBody())):void 0},render(){return o.createElement(a.div,{className:"ev-cover-menu-cover",style:this.getStyle(),key:"cover"},o.createElement("div",{className:"ev-menu-container",ref:e=>this._content=e},o.createElement("div",{className:"ev-menu-container-inner"},this.renderHeader(),o.createElement("div",{className:"ev-action-bar-container"},o.createElement(p.Provider,{value:this.props.title?this.context+1:this.context},this.props.actionBarElements)),o.createElement("div",{className:"ev-cover-actions"},o.createElement(u,{text:this.props.buttonText,className:"ev-menu-item-view-button",onClick:this.props.onCoverButtonClicked})))))}});v.contextType=p,e.exports=v}}]);