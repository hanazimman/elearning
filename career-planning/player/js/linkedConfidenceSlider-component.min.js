(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1275:function(e,n,t){"use strict";const{registerComponent:s,registerEpics:i}=t(4),o=t(1989),l=t(1990),{sliderValueChanged:a}=t(1554),{confidenceSliderCompletedEpic:r}=t(1991),d=t(1992),c=t(1993);i(r),s("linkedConfidenceSlider",{component:o,actions:{sliderValueChanged:a},reducer:l,mapStateToProps:d,trackingMap:c})},1374:function(e,n,t){"use strict";const s=t(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,n,t){"use strict";e.exports=function(e,n,t,s,i){s&&s.props&&s.props.component?(n.top&&(s.isInviewTop=!0),n.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,n,t){"use strict";e.exports=(e,n="_hasBeenViewed")=>{const{component:t,isPageReady:s}=e;return!0===s&&!0===t._isReady&&!0!==t[n]}},1404:function(e,n,t){"use strict";const s=t(216),i=t(2),o=t(1),l=t(0),a=t(308),r=t(7),d=i({displayName:"RangeSlider",propTypes:{labels:o.shape({min:o.string.isRequired,max:o.string.isRequired,selected:o.string.isRequired,aria:o.string}),defaultValue:o.number,value:o.number,min:o.number.isRequired,max:o.number.isRequired,step:o.number.isRequired,onChange:o.func.isRequired,onAfterChange:o.func,onBeforeChange:o.func,onSliderClick:o.func,isDisabled:o.bool.isRequired,isRTL:o.bool,onReady:o.func},componentDidMount(){this._isMounted=!0,s(()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())},500)},componentWillUnmount(){this._isMounted=!1},getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return l.createElement("div",{className:"ev-rangeslider-range-labels"},l.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},l.createElement("div",{className:"ev-rangeslider-range-min ev-label"},l.createElement("span",null,this.props.labels.min)),l.createElement("div",{className:"ev-rangeslider-range-max ev-label"},l.createElement("span",null,this.props.labels.max))))},renderSelectedLabel(){var e;if(null!==(e=this.props.labels)&&void 0!==e&&e.selected)return l.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},l.createElement("span",{className:"ev-rangeslider-range-current-value-text"},this.props.labels.selected),l.createElement("span",{className:"ev-rangeslider-range-current-value-number"},this.props.value))},render(){var e;const{props:n}=this;return l.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),l.createElement("div",{className:"ev-slider-container"},l.createElement(a,{ariaLabel:null===(e=n.labels)||void 0===e?void 0:e.aria,ref:e=>this._slider=e,value:n.value,defaultValue:n.defaultValue,min:n.min,max:n.max,step:n.step,onChange:n.onChange,onAfterChange:n.onAfterChange,onBeforeChange:n.onBeforeChange,onSliderClick:n.onSliderClick,withBars:!0,className:r("ev-rangeslider",{"ev-rangeslider--disabled":n.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:n.isDisabled,invert:n.isRTL}),this.renderSelectedLabel()))}});e.exports=d},1554:function(e,n,t){"use strict";n.SLIDER_VALUE_CHANGED="SLIDER_VALUE_CHANGED",n.sliderValueChanged=(e,t)=>({type:n.SLIDER_VALUE_CHANGED,payload:{componentId:e,value:t}})},1989:function(e,n,t){"use strict";const s=t(2),i=t(1),o=t(0),{Component:l}=t(466),a=t(215),r=t(29),d=t(1404),c=t(1374),p=t(212),m=t(1376),u=t(1375),b=s({displayName:"LinkedConfidenceSlider",propTypes:{component:i.object.isRequired,actionButtonClicked:i.func.isRequired,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsStarted:i.func.isRequired,showFeedback:i.func.isRequired,sliderValueChanged:i.func.isRequired,isRTL:i.bool,linkedComponent:i.object,styles:i.object},componentDidMount(){const{props:e}=this;void 0===e.component._selectedAnswer&&e.linkedComponent&&e.sliderValueChanged(e.component._id,e.linkedComponent._range._min),e.setComponentAsReady(e.component._id)},componentDidUpdate(e){const{component:n}=this.props;!e.component._isSubmitted&&n._isSubmitted&&this.showFeedback()},onChange(e){const{props:n}=this;n.component._hasStarted||n.setComponentAsStarted(n.component._id),n.sliderValueChanged(n.component._id,e)},onVisibilityChange(...e){u(...e,this,this.props.setComponentAsViewed)},showFeedback(){const{_shouldShowDisplayTitleInFeedback:e,displayTitle:n}=this.props.component,t=this.getFeedbackMessage();if(!t)return;const s=e?n:null;this.props.showFeedback({feedbackTitle:s,feedbackMessage:t})},getFeedbackMessage(){const{component:e}=this.props;if(!e._feedback)return;const n=e._selectedAnswer,t=this.props.linkedComponent._selectedAnswer;return n<t?e._feedback._lessConfidence:n>t?e._feedback._higherConfidence:n===t?e._feedback._matchingConfidence:void 0},renderLinkedIncomplete(){const{component:e}=this.props;return o.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message"},o.createElement(r,{className:"ev-linkedConfidenceSlider-linked-incomplete-message-inner ev-label",html:e._linkedIncompleteMessage}),o.createElement(a,{className:"ev-linkedConfidenceSlider-navigate-linked-button",text:e._navigateToLinkedButtonText,onClick:()=>p(e._linkedConfidenceSliderId)}))},renderPreviousConfidence(){const{linkedComponent:e,component:n}=this.props;return o.createElement("div",{className:"ev-linkedConfidenceSlider-range-linked"},o.createElement("div",{className:"linkedConfidenceSlider-range-linked-value ev-label"},o.createElement(r,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-text",html:n._labels._previouslySelected}),o.createElement(r,{element:"span",className:"ev-linkedConfidenceSlider-range-linked-value-number ev-rangeslider-range-current-value-number",html:e._selectedAnswer})))},getIsFeedbackButtonEnabled(){const{_isComplete:e,_feedback:n,_shouldDisplayFeedbackInline:t}=this.props.component;return e&&n&&!t},render(){var e,n,t;const{props:s}=this;return o.createElement(l,{component:s.component,styles:s.styles,isVisibilitySensorActive:m(s),onVisibilityChange:this.onVisibilityChange,hasQuestionButtons:null===(e=s.linkedComponent)||void 0===e?void 0:e._isComplete,shouldHideMarking:!0,isFeedbackEnabled:this.getIsFeedbackButtonEnabled(),onFeedbackButtonClicked:this.showFeedback,onActionButtonClicked:s.actionButtonClicked},o.createElement("div",{className:c(s.component)},(null===(n=s.linkedComponent)||void 0===n?void 0:n._isComplete)&&o.createElement(d,{value:s.component._selectedAnswer,step:s.linkedComponent._step,min:s.linkedComponent._range._min,max:s.linkedComponent._range._max,isDisabled:s.component._isComplete,onChange:this.onChange,labels:{min:s.linkedComponent._labels._min,max:s.linkedComponent._labels._max,selected:s.component._labels._selected,aria:s.component._labels.aria},isRTL:s.isRTL}),null!==(t=s.linkedComponent)&&void 0!==t&&t._isComplete?this.renderPreviousConfidence():this.renderLinkedIncomplete()))}});e.exports=b},1990:function(e,n,t){"use strict";const{SUBMIT_QUESTION:s}=t(61),{SLIDER_VALUE_CHANGED:i}=t(1554);e.exports=(e,n)=>{switch(n.type){case i:return{...e,_selectedAnswer:n.payload.value};case s:return{...e,_canSubmit:!0,_isCorrect:!0};default:return e}}},1991:function(e,n,t){"use strict";const s=t(34),{Observable:i}=t(5),{COMPONENT_COMPLETED:o,updateComponents:l}=t(61);n.confidenceSliderCompletedEpic=(e,n)=>e.ofType(o).mergeMap(({payload:e})=>{const{components:t}=n.getState(),o=t[e.componentId];if("confidenceSlider"!==o._component)return i.empty();const a=s(t).filter(e=>"linkedConfidenceSlider"===e._component&&e._linkedConfidenceSliderId===o._refId&&!e._isComplete).mapValues(e=>({...e,_selectedAnswer:o._selectedAnswer})).keyBy("_id").value();return i.of(l(a))})},1992:function(e,n,t){"use strict";const s=t(77),i=t(213);e.exports=(e,n)=>({theme:e.theme,articleStyle:s(e,n,"article")._classes,buttons:e.course._buttons,linkedComponent:i(n._linkedConfidenceSliderId)})},1993:function(e,n,t){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_selectedAnswer:{fieldKey:"_selectedAnswer",type:"Number",shouldRestore:!0}}}}]);