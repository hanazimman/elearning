(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1253:function(e,t,s){"use strict";const{registerComponent:i}=s(4),o=s(1801),n=s(1804),{checkListItemClicked:c,checkListItemsComplete:r}=s(1527);i("checklist",{component:o,actions:{checkListItemClicked:c,checkListItemsComplete:r},reducer:n,trackingMap:s(1805)})},1374:function(e,t,s){"use strict";const i=s(7);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,s){"use strict";e.exports=function(e,t,s,i,o){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&o&&o(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1527:function(e,t,s){"use strict";t.CHECKLIST_ITEM_CLICKED="CHECKLIST_ITEM_CLICKED",t.CHECKLIST_ITEMS_COMPLETE="CHECKLIST_ITEMS_COMPLETE",t.checkListItemClicked=(e,s,i)=>({type:t.CHECKLIST_ITEM_CLICKED,payload:{componentId:e,itemId:s,value:i}}),t.checkListItemsComplete=e=>({type:t.CHECKLIST_ITEMS_COMPLETE,payload:{componentId:e}})},1801:function(e,t,s){"use strict";const i=s(31),o=s(8),n=s(482),c=s(28),r=s(2),p=s(1),m=s(0),{Component:l}=s(466),d=s(481),a=s(1374),h=s(1375),C=s(1802),u=r({displayName:"Checklist",propTypes:{isPageReady:p.bool,component:p.object.isRequired,styles:p.object,screenSize:p.string.isRequired,showFeedback:p.func.isRequired,checkListItemClicked:p.func.isRequired,checkListItemsComplete:p.func.isRequired,setComponentAsReady:p.func.isRequired,setComponentAsViewed:p.func.isRequired,setComponentAsStarted:p.func.isRequired,setComponentAsComplete:p.func.isRequired},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){const{props:t}=this;if(!e.component._isComplete&&e.component._isReady){let s=!1;const n=i(e.component._items,e=>e._isComplete),c=o(t.component,"_requiredItemsCountForCompletion",0);c?s=n.length===c:n.length&&(s=n.length===e.component._items.length),s&&(t.setComponentAsComplete(e.component._id),t.checkListItemsComplete(e.component._id),t.component._disableFeedbackDialogOnCompletion&&!t.component._shouldDisplayFeedbackInline||this.showFeedback(200))}},showFeedback(e=0){const{component:t}=this.props;if(!t._canShowFeedback)return;const s={feedbackTitle:t._shouldShowDisplayTitleInFeedback?t.displayTitle:null,feedbackMessage:t.feedbackMessage,feedbackGraphic:t.feedbackGraphic};setTimeout(()=>{this.props.showFeedback(s)},e)},onVisibilityChange(...e){const{props:t}=this;h(...e,this,t.component._shouldUseInviewCompletion?t.setComponentAsComplete:t.setComponentAsViewed)},onCheckListItemClicked(e,t){const{props:s}=this;s.component._hasStarted||s.setComponentAsStarted(s.component._id),s.checkListItemClicked(s.component._id,e._id,t)},getIsFeedbackButtonEnabled(){const{props:e}=this,t=i(e.component._items,"_isComplete"),s=o(e.component,"_requiredItemsCountForCompletion",0);return s?t.length>=s:e.component._isCorrect},getIsVisibilitySensorActive(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&(!e._hasBeenViewed||!0!==e._isComplete&&!0===e._shouldUseInviewCompletion)},getItemsInColumns(){const{screenSize:e,component:t}=this.props,s=t._items||[],i=d(e),c=o(t,["_columns",i],1)||1,r=Math.ceil(s.length/c);return n(c,e=>{const t=e*r;return s.slice(t,t+r)})},renderCheckItemsList(e,t=0){return m.createElement(C,{key:t,items:e,component:this.props.component,onCheckListItemClicked:this.onCheckListItemClicked,displayItemNumber:this.props.component._displayItemNumber,centerAlignCheckMark:this.props.component._shouldCenterAlignCheckMark})},renderContent(){const{_hasColumnsLayout:e,_items:t}=this.props.component;if(!e)return this.renderCheckItemsList(t);const s=this.getItemsInColumns();return m.createElement("ul",{className:"ev-checklist-columns"},c(s,(e,t)=>this.renderCheckItemsList(e,t)))},render(){const{props:e}=this;return m.createElement(l,{component:e.component,styles:e.styles,hasQuestionButtons:e.component._canShowFeedback&&!e.component._shouldDisplayFeedbackInline,shouldHideActionButton:!0,shouldHideMarking:!0,isFeedbackEnabled:this.getIsFeedbackButtonEnabled(),onVisibilityChange:this.onVisibilityChange,onFeedbackButtonClicked:this.showFeedback,isVisibilitySensorActive:this.getIsVisibilitySensorActive()},m.createElement("div",{className:a(e.component)},this.renderContent()))}});e.exports=u},1802:function(e,t,s){"use strict";const i=s(28),o=s(2),n=s(1),c=s(0),r=s(1803),p=o({displayName:"CheckItemsList",propTypes:{items:n.array.isRequired,component:n.object.isRequired,onCheckListItemClicked:n.func.isRequired,displayItemNumber:n.bool.isRequired,centerAlignCheckMark:n.bool.isRequired},getDefaultProps:()=>({displayItemNumber:!1,centerAlignCheckMark:!1}),getIsItemDisabled(e){const{component:t}=this.props;return!0!==t._shouldUseInviewCompletion&&!0===t._shouldDisableRecheck&&!0===e._isComplete},render(){const{props:e}=this;return c.createElement("ul",{className:"ev-checklist-items-list"},i(e.items,t=>c.createElement(r,{key:t._id,item:t,onCheckListItemClicked:e.onCheckListItemClicked,isDisabled:this.getIsItemDisabled(t),displayItemNumber:e.displayItemNumber,centerAlignCheckMark:e.centerAlignCheckMark})))}});e.exports=p},1803:function(e,t,s){"use strict";const i=s(2),o=s(1),n=s(0),c=s(7),r=s(169),p=s(18),m=s(56),l=s(29),d=i({displayName:"ChecklistItem",propTypes:{item:o.object.isRequired,isDisabled:o.bool.isRequired,onCheckListItemClicked:o.func.isRequired,displayItemNumber:o.bool.isRequired,centerAlignCheckMark:o.bool.isRequired},getDefaultProps:()=>({displayItemNumber:!1,centerAlignCheckMark:!1}),mixins:[p],onInputChanged(){const{props:e}=this,t=!!e.item._isComplete;e.isDisabled||e.onCheckListItemClicked(this.props.item,!t)},onKeyDown(e){r.isEnterKey(e)&&this.onInputChanged()},getClassName(){return c("ev-checklist-item","ev-component-item","ev-clearfix",{"ev-complete":!0===this.props.item._isComplete,"ev-checklist-item-centered":this.props.centerAlignCheckMark})},getCheckBoxClassNames(){return c("ev-checklist-item-checkbox",{"ev-checklist-item-checkbox-checked":this.props.item._isComplete},{"ev-checklist-item-checkbox-disabled":this.props.isDisabled})},renderCheckIcon(){return this.props.displayItemNumber&&!this.props.item._isComplete?n.createElement("span",{className:"ev-checklist-item-checkbox-number"},this.props.item.itemIndex+1):this.props.item._isComplete?n.createElement(m,{icon:"check",size:15}):void 0},render(){return n.createElement("li",{className:this.getClassName(),onClick:this.onInputChanged,onKeyDown:this.onKeyDown,role:"checkbox","aria-checked":!!this.props.item._isComplete,tabIndex:"0"},n.createElement("div",{className:this.getCheckBoxClassNames(),id:this.props.item._id},this.renderCheckIcon()),n.createElement(l,{element:"label",className:c("ev-checklist-item-text",{"ev-checklist-item-text-disabled":this.props.isDisabled}),htmlFor:this.props.item._id,html:this.props.item.title}))}});e.exports=d},1804:function(e,t,s){"use strict";const i=s(28),{CHECKLIST_ITEM_CLICKED:o,CHECKLIST_ITEMS_COMPLETE:n}=s(1527);e.exports=(e,{type:t,payload:s})=>{switch(t){case o:{const{itemId:t,value:o}=s,n=i(e._items,e=>e._id===t?{...e,_isComplete:o}:e);return{...e,_items:n}}case n:return{...e,_isCorrect:!0};default:return e}}},1805:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isComplete:{fieldKey:"_isComplete",type:"Boolean",shouldRestore:!0}}}}}}]);