(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1289:function(e,t,s){"use strict";const{registerComponent:i}=s(4),n=s(2051),o=s(2052),{saveUserAnswer:r,editUserAnswer:p}=s(1565);i("select",{component:n,actions:{saveUserAnswer:r,editUserAnswer:p},reducer:o,mapStateToProps:s(2053),trackingMap:s(2054)})},1374:function(e,t,s){"use strict";const i=s(7);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,s){"use strict";e.exports=function(e,t,s,i,n){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&n&&n(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,t,s){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:i}=e;return!0===i&&!0===s._isReady&&!0!==s[t]}},1389:function(e,t,s){"use strict";const i=s(0),n=s(1),o=s(7),r=s(215),p=e=>i.createElement("div",{className:o("ev-buttons",{"ev-switch-buttons":e.switchButtonOrder})},e.showSubmitButton&&i.createElement(r,{text:e.submitText,isDisabled:e.isSubmitDisabled,onClick:e.onSubmitClicked}),e.showEditButton&&i.createElement(r,{text:e.editText,isDisabled:e.isEditDisabled,onClick:e.onEditClicked}));p.propTypes={switchButtonOrder:n.bool,showSubmitButton:n.bool,submitText:n.string,isSubmitDisabled:n.bool,onSubmitClicked:n.func,showEditButton:n.bool,editText:n.string,isEditDisabled:n.bool,onEditClicked:n.func},p.defaultProps={switchButtonOrder:!1,showSubmitButton:!0,showEditButton:!0},e.exports=p},1565:function(e,t,s){"use strict";t.SELECT_SAVE_USER_ANSWER="SELECT_SAVE_USER_ANSWER",t.SELECT_EDIT_USER_ANSWER="SELECT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.SELECT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.SELECT_EDIT_USER_ANSWER,payload:e})},2051:function(e,t,s){"use strict";const i=s(28),n=s(2),o=s(1),r=s(0),p=s(1498).default,c=s(56),u=s(29),a=s(472),d=s(1374),l=s(1376),m=s(1375),{Component:b}=s(466),_=s(1389),h=n({displayName:"SelectComponent",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,saveUserAnswer:o.func.isRequired,editUserAnswer:o.func.isRequired,updateVariable:o.func.isRequired,styles:o.object,setAriaLive:o.func.isRequired,isRTL:o.bool},getInitialState(){return{_isOpen:!1,_userAnswer:this.props.component._userAnswer,_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},componentDidUpdate(e,t){const{_userAnswer:s}=this.state;s===t._userAnswer||this.hasSubmitButton()||this.submitAnswer()},hasSubmitButton(){return""!==this.props.component.submitButtonText},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.setAriaLive({message:e.component.submittedLabelText,isAssertive:!1}),e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},onEditClicked(){this.setState({_previousUserAnswer:this.state._userAnswer}),this.props.editUserAnswer({componentId:this.props.component._id})},onVisibilityChange(...e){m(...e,this,this.props.setComponentAsViewed)},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return r.createElement(u,{className:"ev-label",html:t})},getIsSubmitDisabled(){const{_isEditing:e=!1,_isComplete:t,_allowEditing:s}=this.props.component;return!(!t||s&&e)||!this.state._userAnswer},renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:i,_allowEditing:n}=this.props.component,{_isActionButtonOnRight:o}=a(this.props);return r.createElement(_,{switchButtonOrder:o,showSubmitButton:this.hasSubmitButton(),submitText:e,isSubmitDisabled:this.getIsSubmitDisabled(),onSubmitClicked:this.submitAnswer,showEditButton:n,isEditDisabled:s||!i,editText:t,onEditClicked:this.onEditClicked})},render(){const{_id:e,_items:t,_isComplete:s,_isEditing:n,placeholder:o,selectAriaLabel:u}=this.props.component;return r.createElement(b,{component:this.props.component,styles:this.props.styles,isVisibilitySensorActive:l(this.props),onVisibilityChange:this.onVisibilityChange},r.createElement("div",null,r.createElement("div",{className:d(this.props.component)},r.createElement(p,{name:"select-"+e,className:"ev-select",value:this.state._userAnswer,options:i(t,({text:e,value:t})=>({label:e,value:t||e})),placeholder:o||"",disabled:s&&!n,searchable:!1,clearable:!1,simpleValue:!0,ariaLabel:u,rtl:this.props.isRTL,arrowRenderer:()=>r.createElement(c,{className:"ev-select-icon",icon:this.state._isOpen?"chevron-up":"chevron-down"}),onChange:e=>this.setState({_userAnswer:e}),onOpen:()=>this.setState({_isOpen:!0}),onClose:()=>this.setState({_isOpen:!1})}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=h},2052:function(e,t,s){"use strict";const{SELECT_SAVE_USER_ANSWER:i,SELECT_EDIT_USER_ANSWER:n}=s(1565);e.exports=function(e,t){switch(t.type){case i:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case n:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},2053:function(e,t,s){"use strict";const i=s(77);e.exports=(e,t)=>({articleStyle:i(e,t,"article")._classes})},2054:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"String",shouldRestore:!0}}}}]);