(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1338:function(e,t,a){"use strict";const{registerEpics:n}=a(4),s=a(1380),{addTagsElementsEpic:i,registerTrackingMapEpic:r}=a(2350);n(i,r,s("tags"))},1380:function(e,t,a){"use strict";const n=a(8),{Observable:s}=a(5),{setLocationReadyState:i,PUSH_LOCATION:r}=a(9),o=a(219),l=a(217);e.exports=(e,t)=>(a,c)=>a.filter(({type:t})=>{if(t!==r)return;const{navigationStatus:a,path:n}=c.getState().location;return"plugin"===a&&n[0]===e}).switchMap(()=>{const a=c.getState(),{device:r,course:d}=a;let g;if(g=t?t(a):n(d,["_"+e,"_heroImage"]),!g||!g._graphic)return s.empty();const v=o(g._graphic.src,g._graphic.srcAdvanced,!0);return v?s.concat(s.of(i(!1)),s.bindCallback(l)(v,!1).map(()=>i(!0))):s.empty()})},1383:function(e,t,a){"use strict";const n=a(8),{store:s}=a(4);e.exports=function(e,t,a){const{course:i,theme:r}=s.getState(),o=i[e],l=n(o,t),c=n(r,["_extensions",e,"_settings",t]);return l||c||a}},2350:function(e,t,a){"use strict";const{Observable:n}=a(5),{registerTrackingMap:s}=a(4),{SETUP_APP:i}=a(9),{addElement:r}=a(42),{NavigationSideItem:o}=a(475),l=a(1383),c=a(2351),d=a(2353);t.addTagsElementsEpic=(e,t)=>e.filter(e=>{var a;return e.type===i&&(null===(a=t.getState().course._tags)||void 0===a?void 0:a._isEnabled)}).mergeMap(()=>n.of(r({parent:"navigationSide",name:"tags",component:o,props:{link:"/tags",icon:l("_tags","_navigationIcon","question"),label:t.getState().course._tags.title}}),r({parent:"router",name:"tags",path:"/tags",exact:!0,component:c,getShouldPersist:e=>{var t,a;return null==e||null===(t=e.course)||void 0===t||null===(a=t._tags)||void 0===a?void 0:a._isEnabled}}))),t.registerTrackingMapEpic=(e,t)=>e.filter(e=>{var a;return e.type===i&&(null===(a=t.getState().course._tags)||void 0===a?void 0:a._isEnabled)}).do(()=>{s("tags",d,"extensions")}).ignoreElements()},2351:function(e,t,a){"use strict";const n=a(2),s=a(0),{connect:i}=a(6),r=a(7),{ContentContainer:o,HeroImage:l}=a(301),c=a(172),d=a(40),g=a(30),v=a(76),m=a(467),p=a(2352),u=n({displayName:"Tags",renderTitle(){if(this.props.tags.title)return s.createElement(v,{headingElement:"h"+this.context,displayTitle:this.props.tags.title,className:"ev-tags-header-title ev-header-title",innerClassName:"ev-tags-header-title-inner ev-header-title-inner"})},renderDescription(){if(this.props.tags.body)return s.createElement(g,{className:"ev-tags-header-body ev-header-body",innerClassName:"ev-tags-header-body-inner ev-header-body-inner",body:this.props.tags.body})},renderHeroImage(){const{_heroImage:e}=this.props.tags;if(null!=e&&e._isEnabled)return s.createElement(d.Provider,{value:this.props.tags.title?this.context+1:this.context},s.createElement(l,{title:e.title,body:e.body,graphic:e._graphic,_contentWidth:e._contentWidth,layout:e.layout,floatingGraphic:e._floatingGraphic,parentSelector:".ev-extension-hero-container",theme:this.props.theme,isReady:this.props.isReady}))},render(){var e,t,a,n;const{tags:i,theme:l,isReady:g}=this.props,v=i._headerIcon,u=null===(e=l._extensions._tags)||void 0===e||null===(t=e._settings)||void 0===t?void 0:t._headerIcon,h=v||u,_=i.title||null!==(a=i._heroImage)&&void 0!==a&&a._isEnabled&&null!==(n=i._heroImage)&&void 0!==n&&n.title?this.context+1:this.context;return s.createElement(o,{className:"ev-extension ev-tags",ariaLabel:i.ariaLabel},s.createElement("div",{className:"ev-tags-inner ev-extension-inner"},g?null:s.createElement(c,null),s.createElement("div",{className:"ev-extension-hero-container"},this.renderHeroImage()),s.createElement("div",{className:"ev-tags-header ev-header"},s.createElement("div",{className:r("ev-tags-header-inner ev-header-inner ev-clearfix",{"ev-no-graphic":!h})},s.createElement("div",{className:"ev-tags-header-left ev-header-left"},this.renderTitle(),this.renderDescription()),h&&s.createElement("div",{className:"ev-tags-header-right ev-header-right"},s.createElement("i",{className:"ev-icon ev-icon-"+h})))),s.createElement(d.Provider,{value:_},s.createElement(m,null,s.createElement(p,this.props)))))}});u.contextType=d,e.exports=i(e=>({tags:e.course._tags,tagsList:e.course._tags._tagsList,components:e.components,theme:e.theme,isReady:e.location.isLocationReady}))(u)},2352:function(e,t,a){"use strict";const n=a(28),s=a(31),i=a(2),r=a(0),o=a(7),l=a(140),c=a(30),d=a(76),g=a(40),v=r.lazy(()=>Promise.all([a.e(108),a.e(76)]).then(a.t.bind(null,1506,7)).then(e=>Promise.resolve({default:e.Radar}))),m=i({displayName:"TagsOverview",renderRadarChart(){var e,t;const{components:a,theme:i,tags:o}=this.props,c=n(o._tagsList,({title:e})=>e),d=n(o._tagsList,e=>s(a,({_tags:t,_isQuestionType:a,_isCorrect:n,_isComplete:s})=>{var i;return!!(null!=t&&t._isEnabled&&null!=t&&null!==(i=t._tagsList)&&void 0!==i&&i.length&&s)&&(!!(!a||a&&n)&&t._tagsList.includes(e._id))})),g=n(d,e=>e.length);let m=l(i._componentItem._variables._componentItemBackgroundColor["@component-item-background-color"],i._swatches);null!==(e=i._extension)&&void 0!==e&&null!==(t=e._settings)&&void 0!==t&&t._useExtensionStyles&&(m=l(i._extension._variables["@extension-component-item-background-color"],i._swatches));const p={labels:c,datasets:[{label:"Tags",data:g,backgroundColor:"rgba(0,0,0,0.3)",borderColor:m,borderWidth:4,scaleSteps:1,scaleStartValue:0,pointRadius:6,pointBorderWidth:3,pointBackgroundColor:m}]};return r.createElement(r.Suspense,{fallback:r.createElement("div",null)},r.createElement(v,{data:p,options:{scale:{ticks:{min:0,stepSize:1},pointLabels:{fontSize:12}},maintainAspectRatio:!1,legend:{display:!1}},pointStyle:"circle"}))},renderTagCount(e){const{components:t}=this.props,a=s(t,t=>{var a,n,s;return!(null===(a=t._tags)||void 0===a||!a._isEnabled||null===(n=t._tags)||void 0===n||null===(s=n._tagsList)||void 0===s||!s.length)&&t._tags._tagsList.includes(e._id)});return n(a,e=>{let t=!1;return t=e._isQuestionType?e._isComplete&&e._isCorrect:e._isComplete,r.createElement("div",{key:e._id,className:o("ev-tags-count-chart-tag-chart-item",{"ev-selected":t})})})},renderTagItems(){return n(this.props.tagsList,e=>r.createElement("div",{key:e._id,className:"ev-tags-count-chart-tag"},r.createElement("div",{className:"ev-tags-count-chart-tag-inner"},r.createElement("div",{className:"ev-tags-count-chart-tag-name"},e.title),r.createElement("div",{className:"ev-tags-count-chart-tag-chart"},this.renderTagCount(e)))))},render(){return r.createElement("div",{className:"ev-tags-overview-container"},r.createElement("div",{className:"ev-tags-overview-container-inner"},r.createElement(d,{headingElement:"h"+this.context,displayTitle:this.props.tags.overviewTitle,className:"ev-tags-overview-container-title ev-component-title",innerClassName:"ev-tags-overview-container-title-inner ev-component-title-inner"}),r.createElement(c,{className:"ev-tags-overview-container-body ev-component-body",innerClassName:"ev-tags-overview-container-body-inner ev-component-body-inner",body:this.props.tags.overviewBody}),r.createElement("div",{className:"component-widget"},r.createElement("div",{className:"ev-tags-overview-container-content"},r.createElement("div",{className:"ev-tags-overview-container-radar",style:{height:"250px",width:"250px"}},this.renderRadarChart()),r.createElement("div",{className:"ev-tags-overview-container-breakdown"},this.renderTagItems())))))}});m.contextType=g,e.exports=m},2353:function(e,t,a){"use strict";const n=a(12),{store:s}=a(4);e.exports={_tags:{fieldKey:"_tags",type:"Function",shouldRestore:!1,mapCallback:()=>{const e={},{components:t,course:a}=s.getState();return n(a._tags._tagsList,a=>{e[a._id]={availableComponents:[],completedComponents:[]},n(t,({_id:t,_tags:n,_isQuestionType:s,_isCorrect:i,_isComplete:r})=>{null!=n&&n._isEnabled&&n._tagsList.length&&n._tagsList.includes(a._id)&&(e[a._id].availableComponents.push(t),(s&&i&&r||!s&&r)&&e[a._id].completedComponents.push(t))})}),e}}}}}]);