(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1245:function(e,t,i){"use strict";const{registerComponent:n}=i(4),o=i(1626),r=i(1636),{accordionItemClicked:s,accordionItemVideoMetricsChanged:c}=i(1509);n("accordion",{component:o,actions:{accordionItemClicked:s,accordionItemVideoMetricsChanged:c},reducer:r,trackingMap:i(1637)})},1374:function(e,t,i){"use strict";const n=i(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,i){"use strict";e.exports=function(e,t,i,n,o){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&o&&o(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1376:function(e,t,i){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},1438:function(e,t,i){"use strict";const n=i(8),o=i(168);e.exports=e=>{var t,i,r,s,c;const a=n(e,"_mediaType","image");switch(a){case"gif":if(null===(t=e._gif)||void 0===t||!t.src)return;break;case"video":if(null===(i=e._video)||void 0===i||!i.mp4)return;break;case"videoStream":if(null===(r=e._videoStream)||void 0===r||!r._service||null===(s=e._videoStream)||void 0===s||null===(c=s._options)||void 0===c||!c._source)return;break;case"image":default:if(!o(e._graphic))return}return a}},1507:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(0)),s=a(i(1)),c=i(1408);function a(e){return e&&e.__esModule?e:{default:e}}var d=function(){return null},l=t.Collapse=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(i),i.state={currentState:"IDLING",from:0,to:0},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpened,i=e.forceInitialAnimation,n=e.onRest;if(t){var o=this.getTo();if(i){var r=this.wrapper.clientHeight;this.setState({currentState:"RESIZING",from:r,to:o})}else this.setState({currentState:"IDLING",from:o,to:o})}n()}},{key:"componentWillReceiveProps",value:function(e){e.hasNestedCollapse?e.isOpened!==this.props.isOpened&&this.setState({currentState:"WAITING"}):"IDLING"===this.state.currentState&&(e.isOpened||this.props.isOpened)&&this.setState({currentState:"WAITING"})}},{key:"componentDidUpdate",value:function(e,t){var i=this.props,n=i.isOpened,o=i.onRest,r=i.onMeasure;if("IDLING"!==this.state.currentState){t.to!==this.state.to&&r({height:this.state.to,width:this.content.clientWidth});var s=this.wrapper.clientHeight,c=n?this.getTo():0;s===c?"RESTING"!==this.state.currentState&&"WAITING"!==this.state.currentState||this.setState({currentState:"IDLING",from:s,to:c}):this.setState({currentState:"RESIZING",from:s,to:c})}else o()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.raf)}},{key:"render",value:function(){return r.default.createElement(c.Motion,n({},this.getMotionProps(),{onRest:this.onRest,children:this.renderContent}))}}]),t}(r.default.PureComponent);l.propTypes={isOpened:s.default.bool.isRequired,springConfig:s.default.objectOf(s.default.number),forceInitialAnimation:s.default.bool,hasNestedCollapse:s.default.bool,fixedHeight:s.default.number,theme:s.default.objectOf(s.default.string),style:s.default.object,onRender:s.default.func,onRest:s.default.func,onMeasure:s.default.func,children:s.default.node.isRequired},l.defaultProps={forceInitialAnimation:!1,hasNestedCollapse:!1,fixedHeight:-1,style:{},theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},onRender:d,onRest:d,onMeasure:d};var p=function(){var e=this;this.onContentRef=function(t){e.content=t},this.onWrapperRef=function(t){e.wrapper=t},this.onRest=function(){e.raf=requestAnimationFrame(e.setResting)},this.setResting=function(){e.setState({currentState:"RESTING"})},this.getTo=function(){var t=e.props.fixedHeight;return t>-1?t:e.content.clientHeight},this.getWrapperStyle=function(t){if("IDLING"===e.state.currentState&&e.state.to){var i=e.props.fixedHeight;return i>-1?{overflow:"hidden",height:i}:{height:"auto"}}return"WAITING"!==e.state.currentState||e.state.to?{overflow:"hidden",height:Math.max(0,t)}:{overflow:"hidden",height:0}},this.getMotionProps=function(){var t=e.props.springConfig;return"IDLING"===e.state.currentState?{defaultStyle:{height:e.state.to},style:{height:e.state.to}}:{defaultStyle:{height:e.state.from},style:{height:(0,c.spring)(e.state.to,n({precision:1},t))}}},this.renderContent=function(t){var i=t.height,o=e.props,s=(o.isOpened,o.springConfig,o.forceInitialAnimation,o.hasNestedCollapse,o.fixedHeight,o.theme),c=o.style,a=o.onRender,d=(o.onRest,o.onMeasure,o.children),l=function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(o,["isOpened","springConfig","forceInitialAnimation","hasNestedCollapse","fixedHeight","theme","style","onRender","onRest","onMeasure","children"]),p=e.state;return a({current:i,from:p.from,to:p.to}),r.default.createElement("div",n({ref:e.onWrapperRef,className:s.collapse,style:n({},e.getWrapperStyle(Math.max(0,i)),c)},l),r.default.createElement("div",{ref:e.onContentRef,className:s.content},d))}}},1509:function(e,t,i){"use strict";t.ACCORDION_ITEM_CLICKED="ACCORDION_ITEM_CLICKED",t.ACCORDION_ITEM_VIDEO_METRICS="ACCORDION_ITEM_VIDEO_METRICS",t.accordionItemClicked=e=>({type:t.ACCORDION_ITEM_CLICKED,payload:e}),t.accordionItemVideoMetricsChanged=e=>({type:t.ACCORDION_ITEM_VIDEO_METRICS,payload:e})},1626:function(e,t,i){"use strict";const n=i(8),o=i(28),r=i(2),s=i(1),c=i(0),a=i(7),{Component:d}=i(466),l=i(1374),p=i(1376),u=i(1375),m=i(1627),h=r({displayName:"Accordion",propTypes:{component:s.object.isRequired,accordionItemClicked:s.func.isRequired,accordionItemVideoMetricsChanged:s.func.isRequired,setComponentAsReady:s.func.isRequired,setComponentAsViewed:s.func.isRequired,setComponentAsStarted:s.func.isRequired,setComponentAsComplete:s.func.isRequired,styles:s.object,theme:s.object.isRequired,animationEnded:s.bool},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps(e){if(!e.component._isComplete){e.component._items.filter(e=>e._isVisited).length===e.component._items.length&&this.props.setComponentAsComplete(this.props.component._id)}},onItemClicked(e){const{props:t}=this;t.component._hasStarted||t.setComponentAsStarted(t.component._id),t.accordionItemClicked({componentId:t.component._id,itemId:e})},onItemVideoMetricsChanged(e,t){const{component:i,accordionItemVideoMetricsChanged:n}=this.props;n({componentId:i._id,itemId:e,metrics:t})},onVisibilityChange(...e){u(...e,this,this.props.setComponentAsViewed)},getClassName(){const{component:e,theme:t}=this.props,i=n(t,"_components._accordion._settings",{});return a(l(e),{"ev-is-icon-right-side":i._isIconOnRightSide,"ev-is-collapsed":i._isItemSpacingCollapsed})},renderItems(){const{props:e}=this;return o(e.component._items,t=>c.createElement(m,{key:t._id,item:t,componentId:e.component._id,shouldShowCheckIcon:e.component._shouldShowCheckIcon,onItemClicked:this.onItemClicked,onItemVideoMetricsChanged:this.onItemVideoMetricsChanged,animationEnded:e.animationEnded}))},render(){const{props:e}=this;return c.createElement(d,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange},c.createElement("div",{className:this.getClassName()},c.createElement("div",{className:"ev-accordion-items"},this.renderItems())))}});e.exports=h},1627:function(e,t,i){"use strict";const n=i(2),o=i(1),r=i(0),s=i(7),c=i(217),a=i(86),d=i(1438),{Collapse:l}=i(1628),p=i(96),u=i(18),m=i(303),h=i(169),f=i(56),v=i(30),_=i(304),y=i(29),g=n({displayName:"AccordionItem",propTypes:{item:o.object.isRequired,onItemClicked:o.func.isRequired,onItemVideoMetricsChanged:o.func.isRequired,shouldShowCheckIcon:o.bool,componentId:o.string.isRequired,animationEnded:o.bool},mixins:[u],componentDidUpdate({item:e}){var t;const{item:i}=this.props;"video"===d(i)&&i._isSelected&&!e._isSelected&&null!==(t=i._video)&&void 0!==t&&t._shouldAutoPlay&&this._video&&this._video.play()},onItemClicked(e){e.preventDefault(),this.props.onItemClicked(this.props.item._id)},onKeyDown(e){h.isSpaceKey(e)&&this.onItemClicked(e)},getClassName(){const{item:e}=this.props;return s("ev-accordion-item ev-component-item-title",{"ev-visited":e._isVisited,"ev-selected":e._isSelected})},getBodyClassName(){const{item:e}=this.props;let t;return d(e)&&(t="ev-js-graphic-"+e._itemGraphicLayout),s("ev-accordion-item-body-inner ev-component-item-body-inner ev-clearfix",t)},renderIcon(){const{item:e,shouldShowCheckIcon:t}=this.props,i=t&&e._isVisited?"check":""+(e._isSelected?"minus":"plus");return r.createElement(f,{className:"ev-accordion-item-title-icon",icon:i})},renderBodyTextTop(){if(!["top","left"].includes(this.props.item._itemGraphicLayout))return this.renderBodyText()},renderBodyTextBottom(){if(!["bottom","right"].includes(this.props.item._itemGraphicLayout))return this.renderBodyText()},renderBodyText(){if(this.props.item.body)return r.createElement(v,{className:"ev-accordion-item-body-content",body:this.props.item.body})},renderMedia(){switch(d(this.props.item)){case"image":return this.renderGraphic();case"gif":return this.renderGif();case"video":return this.renderVideo();case"videoStream":return this.renderVideoStream();default:return null}},renderGraphic(){const{_graphic:e}=this.props.item;return r.createElement("div",{className:"ev-accordion-item-graphic"},r.createElement("div",{className:"ev-accordion-item-graphic-inner"},r.createElement(p,{graphicSrc:e.src,graphicSrcAdvanced:e.srcAdvanced,altText:e.alt,autoSize:!0,isLightboxEnabled:e._isLightboxEnabled,lightboxSrc:e.lightboxSrc,lightboxSrcAdvanced:e.lightboxSrcAdvanced,isMagnifierEnabled:e._isMagnifierEnabled})))},renderGif(){const{_gif:e}=this.props.item;return r.createElement("div",{className:"ev-accordion-item-graphic"},r.createElement("div",{className:"ev-accordion-item-graphic-inner"},r.createElement(p,{graphicSrc:e.src,altText:e.alt})))},renderVideo(){var e,t,i,n;const{item:o}=this.props;return r.createElement("div",{className:"ev-accordion-item-video"},r.createElement("div",{className:"ev-accordion-item-video-inner"},r.createElement(m,{ref:e=>this._video=e,src:a(o._video.mp4),posterSrc:c(o._video.poster),subtitlesSrc:a(null===(e=o._video._subtitles)||void 0===e?void 0:e.src),subtitlesLabel:null===(t=o._video._subtitles)||void 0===t?void 0:t.label,transcriptText:null===(i=o._video._transcript)||void 0===i?void 0:i.body,transcriptType:"popup",transcriptButtonText:null===(n=o._video._transcript)||void 0===n?void 0:n.button,controls:!0,hasBigPlayButton:!0,metrics:o._metrics,autoPlay:!1,onMetricsChange:e=>this.props.onItemVideoMetricsChanged(o._id,e),isVisible:o._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream(){const{componentId:e,item:t}=this.props;return r.createElement("div",{className:"ev-accordion-item-video"},r.createElement("div",{className:"ev-accordion-item-video-inner"},r.createElement(_,{id:`${e}-${t._id}`,service:t._videoStream._service,options:t._videoStream._options,isVisible:t._isSelected})))},render(){const{componentId:e,item:t}=this.props,i=t._isSelected||!1,n=e+t._id,o=n+"label",c=n+"region";return r.createElement("div",{className:s("ev-accordion-item-container",{"ev-selected":this.props.item._isSelected})},r.createElement("div",{key:o,className:this.getClassName()},r.createElement("a",{href:"#",className:s("ev-accordion-item-title ev-component-item-title",{"ev-visited":this.props.item._isVisited,"ev-selected":this.props.item._isSelected}),tabIndex:"0",onClick:this.onItemClicked,onKeyDown:this.onKeyDown,id:o,"aria-expanded":i,"aria-controls":c,role:"button"},r.createElement("div",{className:"ev-accordion-item-title-inner ev-component-item-title-inner"},this.renderIcon(),r.createElement(y,{element:"span",className:"ev-accordion-item-title-text",html:this.props.item.title})))),r.createElement("div",{key:c,id:c,"aria-labelledby":o,role:"region",className:"ev-accordion-item-body ev-component-item-body"},r.createElement(l,{springConfig:{stiffness:200,damping:20},isOpened:i,style:{visibility:i?"visible":"hidden"}},r.createElement("div",{className:this.getBodyClassName()},this.renderBodyTextTop(),this.renderMedia(),this.renderBodyTextBottom()))))}});e.exports=g},1628:function(e,t,i){"use strict";var n=i(1507).Collapse,o=i(1635).UnmountClosed;o.Collapse=n,o.UnmountClosed=o,e.exports=o},1635:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnmountClosed=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=a(i(0)),s=a(i(1)),c=i(1507);function a(e){return e&&e.__esModule?e:{default:e}}(t.UnmountClosed=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.componentWillReceiveProps=function(e){var t=e.isOpened;!i.props.isOpened&&t&&i.setState({forceInitialAnimation:!0,shouldUnmount:!1})},i.onRest=function(){var e=i.props,t=e.isOpened,n=e.onRest;t||i.setState({shouldUnmount:!0}),n&&n.apply(void 0,arguments)},i.state={shouldUnmount:!i.props.isOpened,forceInitialAnimation:!i.props.isOpened},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.isOpened,i=(e.onRest,function(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}(e,["isOpened","onRest"])),o=this.state,s=o.forceInitialAnimation;return o.shouldUnmount?null:r.default.createElement(c.Collapse,n({forceInitialAnimation:s,isOpened:t,onRest:this.onRest},i))}}]),t}(r.default.PureComponent)).propTypes={isOpened:s.default.bool.isRequired,onRest:s.default.func}},1636:function(e,t,i){"use strict";const n=i(28),{ACCORDION_ITEM_CLICKED:o,ACCORDION_ITEM_VIDEO_METRICS:r}=i(1509);e.exports=function(e,t){switch(t.type){case o:{const i=n(e._items,i=>{const n=i._id===t.payload.itemId;if(n&&!i._isSelected)return{...i,_isSelected:!0,_isVisited:!0};const{_shouldKeepItemsOpen:o}=e;return n||!o&&i._isSelected?{...i,_isSelected:!1}:i});return{...e,_items:i}}case r:{const i=n(e._items,e=>e._id===t.payload.itemId?{...e,_metrics:t.payload.metrics}:e);return{...e,_items:i}}default:return e}}},1637:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}}}]);